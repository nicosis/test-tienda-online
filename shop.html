<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Botiga online dels millors productes del mercat</title>

    <!-- Global stylesheets -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900"
      rel="stylesheet"
      type="text/css"
    />
    <link href="assets/css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/estils.css" rel="stylesheet" type="text/css" />
    <!-- <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
    crossorigin="anonymous"
  /> -->
  </head>
  <body>
    <div class="page-container">
      <!-- Page content -->
      <header>
        <h1>Tienda online</h1>
        <div class="cart-container">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="cart-container-btn"
            data-bs-toggle="modal"
            data-bs-target="#exampleModal"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"
            />
          </svg>
          <span
            class="cart-container-btn-qtty"
            data-bs-toggle="modal"
            data-bs-target="#exampleModal"
            >0</span
          >
        </div>
      </header>

      <!-- Modal -->
      <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Carrito</h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <!-- <p>El carrito está vacío.</p> -->
              <div class="modal-item">
                <span class="modal-item-qtty">5</span>
                <p class="modal-item-name">Name</p>
                <span class="modal-item-price">$ 5,00</span>
              </div>
            </div>
            <div class="modal-footer">
              <p>Total:</p>
              <span class="valor-total">$0.00</span>
            </div>
          </div>
        </div>
      </div>

      <div class="items-container mb-2"></div>
    </div>
  </body>
</html>

<!-- Core JS files -->
<script src="assets/js/bootstrap.min.js"></script>
<script>
  var data = [
    { img: "benjerry", price: 5.95, qtty: 0 },
    { img: "caffelatte", price: 1.27, qtty: 0 },
    { img: "calippo", price: 4.1, qtty: 0 },
    { img: "evax", price: 2.4, qtty: 0 },
    { img: "pizza", price: 4.95, qtty: 0 },
    { img: "scottex", price: 4.5, qtty: 0 },
    { img: "spaghetti", price: 1.25, qtty: 0 },
    { img: "triangulos", price: 2.35, qtty: 0 },
    { img: "xibeca", price: 3.75, qtty: 0 },
    { img: "chipsahoy", price: 2.2, qtty: 0 },
  ];

  function addItem(item) {}

  function removeItem(item) {}

  function render_list_of_items() {
    const itemsContainer = document.querySelector(".items-container");
    const subItemsContainer = document.createElement("div");
    subItemsContainer.classList.add("row", "row-cols-md-3", "g-4");

    data.forEach((item) => {
      const itemList = document.createElement("div");
      itemList.classList.add("col");
      itemList.innerHTML = `
        <div class="card h-100">
            <img src="./assets/img/${
              item.img
            }.jpg" class="card-img-top" alt="Image">
            <div class="card-body">
                <h5 class="card-title">${item.img}</h5>
                <p class="card-price">€${item.price.toFixed(2)}</p>
                <a href="#" class="btn btn-primary add-to-cart-btn">Add to cart</a>
                </div>
                </div>
                `;
      subItemsContainer.appendChild(itemList);
    });
    itemsContainer.appendChild(subItemsContainer);
  }

  let cartItems = [];
  const valorTotal = document.querySelector(".valor-total");
  const cartQtty = document.querySelector(".cart-container-btn-qtty");
  const modalBody = document.querySelector(".modal-body");

  render_list_of_items();
</script>
